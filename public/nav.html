<!-- HEADER -->
<style>
  .nav-header {
    padding: 8px 16px;
    border-radius: 12px;
  }
  .nav-brand {
    display: inline-flex;
    align-items: center;
    gap: 8px;
  }
  .nav-brand-text {
    line-height: 1.05;
  }
  .nav-brand-title {
    display: block;
    font-size: 16px;
    font-weight: 800;
    color: #2d2f38;
    letter-spacing: 0.1px;
  }
  .nav-brand-sub {
    display: block;
    font-size: 11px;
    font-weight: 600;
    color: #2d80d8;
    letter-spacing: 0.2px;
  }
  .nav-welcome-pill {
    font-size: 0.95rem;
    color: #4a5568;
    padding: 8px 14px;
  }
  .nav-welcome-pill i {
    font-size: 1.1rem;
  }
</style>
<header class="header nav-header d-flex justify-content-between align-items-center mb-3 p-3 bg-white shadow-sm rounded">
  <h1 class="m-0" style="font-size: 1rem;">
    <a href="/dashboard.html" class="text-decoration-none text-dark nav-brand">
      <img src="/logo_logicielle.png" alt="Logo" style="height: 26px;">
    </a>
  </h1>

  <div id="user-info-container" class="d-flex align-items-center gap-3">
    <div class="d-flex align-items-center bg-light border rounded-pill px-3 py-1 shadow-sm nav-welcome-pill">
      <a id="user-icon-link" class="text-decoration-none" href="#" data-bs-toggle="tooltip" title="">
        <i class="bi bi-person-circle text-primary fs-4 me-2"></i>
      </a>
      <div class="text-nowrap fw-medium text-secondary">Bienvenue</div>
    </div>
    <div class="d-flex align-items-center gap-2">
      <div class="dropdown">
        <button class="btn btn-outline-primary btn-sm position-relative" id="notif-toggle" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-bell"></i>
          <span class="badge rounded-pill bg-danger" id="notif-badge" style="display:none;">0</span>
        </button>
        <div class="dropdown-menu dropdown-menu-end p-0 shadow" aria-labelledby="notif-toggle" style="min-width:320px;">
          <div class="p-3 border-bottom fw-semibold">Messages récents</div>
          <div id="notif-list" class="list-group list-group-flush" style="max-height:320px; overflow-y:auto;">
            <div class="list-group-item text-muted">Aucune notification.</div>
</div>
</div>

<!-- Modal conversation depuis la cloche -->
<div class="modal fade" id="notifConversationModal" tabindex="-1" aria-labelledby="notifConversationModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="notifConversationModalLabel">Conversation</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body p-0">
        <iframe id="notifConversationFrame" style="width: 100%; height: 80vh; border: none;"></iframe>
      </div>
    </div>
  </div>
</div>

<!-- Modal profil agent (nav) -->
<div class="modal fade" id="navAgentModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Profil agent</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
      </div>
      <div class="modal-body p-0">
        <iframe id="navAgentFrame" style="width: 100%; height: 80vh; border: none;"></iframe>
      </div>
    </div>
  </div>
</div>
      </div>
    </div>
    <button type="button" class="btn btn-primary btn-sm rounded-pill" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
      <i class="bi bi-list"></i>
    </button>
  </div>
</header>

<!-- OFFCANVAS NAV -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Fermer"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
      <li class="nav-item"><a class="nav-link" href="/dashboard.html"><i class="bi bi-house-door-fill me-2"></i>Dashboard</a></li>
      <li class="nav-item"><a class="nav-link" href="/agents.html"><i class="bi bi-people-fill me-2"></i>Agents</a></li>
      <li class="nav-item"><a class="nav-link" href="/sites.html"><i class="bi bi-building-fill me-2"></i>Sites</a></li>
      <li class="nav-item"><a class="nav-link" href="/demandes-client-admin.html"><i class="bi bi-inbox me-2"></i>Demandes client</a></li>
      <li class="nav-item"><a class="nav-link" href="/clients.html"><i class="bi bi-person-badge me-2"></i>Clients</a></li>
      <li class="nav-item"><a class="nav-link" href="/associations.html"><i class="bi bi-diagram-3-fill me-2"></i>Associations</a></li>
      <li class="nav-item"><a class="nav-link" href="/tickets.html"><i class="bi bi-tools me-2"></i>Tickets</a></li>
      <li class="nav-item"><a class="nav-link" href="/travaux.html"><i class="bi bi-list-task me-2"></i>Travaux</a></li>
      <li class="nav-item"><a class="nav-link" href="/calendrier.html"><i class="bi bi-calendar-week me-2"></i>Calendrier</a></li>
      <li class="nav-item"><a class="nav-link" href="/contrats.html"><i class="bi bi-calendar-event-fill me-2"></i>Contrats</a></li>
      <li class="nav-item"><a class="nav-link" href="/achats.html"><i class="bi bi-cart-fill me-2"></i>Achats</a></li>
      <li class="nav-item"><a class="nav-link" href="/factures.html"><i class="bi bi-receipt me-2"></i>Factures</a></li>
      <li class="nav-item"><a class="nav-link" href="/travaux.html"><i class="bi bi-kanban me-2"></i>Travaux</a></li>
      <li class="nav-item"><a class="nav-link" href="/catalogue-materiel.html"><i class="bi bi-book-fill me-2"></i>Catalogue Matériel</a></li>
      <li class="nav-item"><a class="nav-link" href="/gestion-commande.html"><i class="bi bi-cart-check-fill me-2"></i>Gestion des Commandes</a></li>
      <!-- <li class="nav-item"><a class="nav-link" href="/client-dashboard.html"><i class="bi bi-person-workspace me-2"></i>Espace Client</a></li> -->
      <li class="nav-item"><a class="nav-link" href="#" id="logout-link"><i class="bi bi-box-arrow-right me-2"></i>Déconnexion</a></li>
    </ul>
  </div>
</div>
