<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tableau de bord</title>
  <link href="/style.css" rel="stylesheet">`r`n  <link href="/custom.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/nav.js"></script>
  <script src="/script.js"></script>
</head>
<body class="bg-gradient-to-br from-slate-50 to-indigo-50 min-h-screen app-bg header-min">
  <header></header>
  <div class="app-shell">
    <aside class="sidebar">
      <div class="sidebar-header">
        <a href="/dashboard.html" class="brand">Gestion Projets</a>
      </div>
      <nav class="sidebar-nav">
        <a href="/dashboard.html"><i data-lucide="home"></i> Dashboard</a>
        <a href="/agents.html"><i data-lucide="users"></i> Agents</a>
        <a href="/sites.html"><i data-lucide="building"></i> Sites</a>
        <a href="/interventions.html"><i data-lucide="wrench"></i> Interventions</a>
        <a href="/rendezvous.html"><i data-lucide="calendar"></i> Rendez-vous</a>
        <a href="/achats.html"><i data-lucide="shopping-cart"></i> Achats</a>
        <a href="/factures.html"><i data-lucide="receipt"></i> Factures</a>
      </nav>
    </aside>
    <main class="content">
      <div class="container mx-auto px-6 py-8 max-w-7xl">
    <h1 class="mb-6">Tableau de bord</h1>
    <!-- MÃ©triques principales -->
    <div class="grid grid-autofit-cards">
      <div class="card"><div class="card-body">
        <div class="text-3xl font-bold text-gray-800" id="activeMaintenances">-</div>
        <div class="text-sm uppercase text-gray-500 font-semibold tracking-wide">Maintenances actives</div>
      </div></div>
      <div class="card"><div class="card-body">
        <div class="text-3xl font-bold text-gray-800" id="ongoingInterventions">-</div>
        <div class="text-sm uppercase text-gray-500 font-semibold tracking-wide">Interventions en cours</div>
        <div class="mt-2 text-xs">
          <a href="/interventions.html">Voir les interventions</a>
        </div>
      </div></div>
      <div class="card"><div class="card-body">
        <div class="text-3xl font-bold text-gray-800" id="activeAgents">-</div>
        <div class="text-sm uppercase text-gray-500 font-semibold tracking-wide">Agents actifs</div>
      </div></div>
      <div class="card"><div class="card-body">
        <div class="text-3xl font-bold text-gray-800" id="sitesUnderContract">-</div>
        <div class="text-sm uppercase text-gray-500 font-semibold tracking-wide">Sites sous contrat</div>
        <div class="mt-2 text-xs">
          <a href="/sites.html">Voir les sites</a>
        </div>
      </div></div>
    </div>

    <!-- Graphique + maintenances urgentes -->
    <div class="grid grid-autofit-cards">
      <div class="card span-2"><div class="card-body">
        <canvas id="monthlyMaintenanceChart"></canvas>
      </div></div>
      <div class="card"><div class="card-body">
        <h2 class="mb-4">Maintenances urgentes</h2>
        <div id="urgentMaintenances" class="max-h-96 overflow-y-auto space-y-4"></div>
      </div></div>
    </div>

    <!-- Cartes financières (rÃ©sumÃ©s) -->
    <div class="grid grid-autofit-cards">
      <div class="card"><div class="card-body">
        <div class="flex items-center justify-between mb-2">
          <h2 class="mb-0">Achats rÃ©cents</h2>
          <a class="text-indigo-600" href="/achats.html">Voir tout</a>
        </div>
        <ul id="recentAchats" class="space-y-2 text-sm"></ul>
      </div></div>
      <div class="card"><div class="card-body">
        <div class="flex items-center justify-between mb-2">
          <h2 class="mb-0">Factures récentes</h2>
          <a class="text-indigo-600" href="/factures.html">Voir tout</a>
        </div>
        <ul id="recentFactures" class="space-y-2 text-sm"></ul>
      </div></div>
    </div>

    <!-- Compteurs finance (en dessous du graphe et urgences) -->
    <div id="financeCounters" class="grid grid-autofit-cards">
      <div class="card"><div class="card-body">
        <div class="text-3xl font-bold text-gray-800" id="achatsCount">-</div>
        <div class="text-sm uppercase text-gray-500 font-semibold tracking-wide">Achats</div>
        <div class="mt-2 text-xs">
          <a href="/achats.html">Voir les achats</a>
        </div>
      </div></div>
      <div class="card"><div class="card-body">
        <div class="text-3xl font-bold text-gray-800" id="facturesCount">-</div>
        <div class="text-sm uppercase text-gray-500 font-semibold tracking-wide">Factures</div>
        <div class="mt-2 text-xs">
          <a href="/factures.html">Voir les factures</a>
        </div>
      </div></div>
      <div class="card"><div class="card-body">
        <div class="text-3xl font-bold text-gray-800" id="reglementsCount">-</div>
        <div class="text-sm uppercase text-gray-500 font-semibold tracking-wide">Règlements</div>
        <div class="mt-2 text-xs">
          <a href="/factures.html">Voir factures</a>
        </div>
      </div></div>
    </div>
    <div class="grid grid-autofit-cards">
      <div class="card"><div class="card-body">
        <div class="flex items-center justify-between mb-2">
          <h2 class="mb-0">Règlements récents</h2>
          <a class="text-indigo-600" href="/factures.html">Voir factures</a>
        </div>
        <ul id="recentReglements" class="space-y-2 text-sm"></ul>
      </div></div>
    </div>
      </div>
    </main>
  </div>
  <script>
    if (window.lucide && typeof window.lucide.createIcons === 'function') { window.lucide.createIcons(); }
  </script>
</body>
</html>



